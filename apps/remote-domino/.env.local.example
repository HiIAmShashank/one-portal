# OnePortal Domino Remote App - Authentication Configuration
# This is a TEMPLATE file - Copy to .env.local for local development overrides
#
# üìÅ Vite Environment File Loading Priority (highest to lowest):
#   1. .env.[mode].local     (git-ignored, mode-specific local overrides)
#   2. .env.[mode]           (committed, mode-specific defaults)
#   3. .env.local            (git-ignored, local overrides for all modes)
#   4. .env                  (committed, base defaults)
#
# üéØ Available Modes & Commands:
#   - development: pnpm dev              ‚Üí Uses .env.development
#   - production:  pnpm build            ‚Üí Uses .env.production
#
# üí° When to use .env.local:
#   - Personal development settings that differ from team defaults
#   - Testing with different client IDs or tenants
#   - Override any variable from mode-specific files
#   - This file is git-ignored for security
#
# ‚ö†Ô∏è  Note: .env.local is loaded for ALL modes (dev, production)
#          Mode-specific files (.env.[mode]) take precedence over .env.local
#
# -----------------------------------------------------------------------------

# Azure AD Application (Client) ID for Domino remote app
# Can share same Client ID as Shell for simplified SSO,
# OR use separate Client ID for stricter token isolation
VITE_AUTH_CLIENT_ID=your-domino-client-id-guid-here

# Azure AD Tenant Authority
# Should match Shell's authority for SSO to work seamlessly
VITE_AUTH_AUTHORITY=https://login.microsoftonline.com/common

# Redirect URI after authentication (STANDALONE MODE ONLY)
# Must match exactly with Azure AD app registration
#
# ‚ö†Ô∏è IMPORTANT: Standalone mode requires this to be configured in Azure AD
#
# Vite Dev Server (standalone - pnpm dev):
VITE_AUTH_REDIRECT_URI=http://localhost:5173/auth/callback
#
# SWA Emulator (pnpm swa:start):
# VITE_AUTH_REDIRECT_URI=http://localhost:4280/auth/callback
#
# Production standalone: https://domino.example.com/auth/callback
#
# Embedded mode: Redirect URI is handled by Shell, this value is not used

# Post-logout redirect URI (optional)
# Where to redirect after sign-out
VITE_AUTH_POST_LOGOUT_REDIRECT_URI=http://localhost:5173/

# Default scopes for Domino (comma-separated)
# User.Read is the minimum scope for basic profile info
VITE_AUTH_SCOPES=User.Read

# App name for telemetry and logging
VITE_AUTH_APP_NAME=domino

# Application mode for embedded vs standalone detection
# - embedded: App is hosted within Shell via Module Federation
#             ‚Üí Uses SSO silent authentication only
#             ‚Üí Redirects to Shell sign-in on failure
#
# - standalone: App runs independently (local dev or separate deployment)
#               ‚Üí Attempts SSO first, falls back to interactive redirect
#               ‚Üí Requires VITE_AUTH_REDIRECT_URI configured in Azure AD
#
# - auto: Auto-detect based on URL path (default, recommended)
#         ‚Üí If path starts with /apps/, treat as embedded
#         ‚Üí Otherwise, treat as standalone
#
# üí° Recommended setting for development: auto
VITE_APP_MODE=auto
